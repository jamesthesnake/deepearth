{
  "title": "3D Embeddings Visualization Configuration",
  "description": "Configuration schema for generic 3D embedding visualization",
  "type": "object",
  "properties": {
    "visualization": {
      "type": "object",
      "properties": {
        "title": {
          "type": "string",
          "default": "3D Embeddings Visualization"
        },
        "subtitle": {
          "type": "string",
          "default": ""
        },
        "defaultSphereSize": {
          "type": "number",
          "default": 0.05,
          "minimum": 0.005,
          "maximum": 0.1
        },
        "defaultTextSize": {
          "type": "number",
          "default": 0.3,
          "minimum": 0.1,
          "maximum": 2.0
        },
        "scaleFactor": {
          "type": "number",
          "default": 3.0,
          "description": "Scale factor for coordinate expansion"
        }
      }
    },
    "data": {
      "type": "object",
      "properties": {
        "sourceFile": {
          "type": "string",
          "description": "Path to the JSON data file containing embeddings"
        },
        "fields": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "default": "id",
              "description": "Field name for unique identifier"
            },
            "label": {
              "type": "string",
              "default": "name",
              "description": "Field name for display label"
            },
            "cluster": {
              "type": "string",
              "default": "cluster",
              "description": "Field name for cluster assignment"
            },
            "metadata": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Additional metadata fields to display"
            }
          }
        }
      },
      "required": ["sourceFile"]
    },
    "images": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": false
        },
        "sourcePath": {
          "type": "string",
          "description": "Path to images directory"
        },
        "summaryFile": {
          "type": "string",
          "description": "Path to image summary JSON file"
        },
        "urlPattern": {
          "type": "string",
          "description": "URL pattern for image access, use placeholders like {id}, {label}, etc."
        },
        "imageIdField": {
          "type": "string",
          "description": "Field in data that contains the image identifier",
          "default": "id"
        },
        "summaryKeyField": {
          "type": "string",
          "description": "Field to use as key in summary file lookup",
          "default": "label"
        },
        "summaryImageField": {
          "type": "string",
          "description": "Field in summary containing image info",
          "default": "images"
        },
        "directoryPattern": {
          "type": "string",
          "description": "Pattern for image directory names (e.g., 'item_{id}', 'category_{category}')"
        },
        "filePattern": {
          "type": "string",
          "description": "Pattern for image filenames (e.g., 'img_{index}.jpg', '{name}_{index}.png')"
        },
        "maxImages": {
          "type": "integer",
          "description": "Maximum number of images to display per item",
          "default": 10
        }
      }
    },
    "server": {
      "type": "object",
      "properties": {
        "port": {
          "type": "integer",
          "default": 8080,
          "minimum": 1024,
          "maximum": 65535
        },
        "host": {
          "type": "string",
          "default": "localhost"
        }
      }
    }
  },
  "required": ["data"]
}